#include<stdio.h>
int main(){
int nums[]={1,2,1};
int n=sizeof(nums)/sizeof(nums[0]);
int sum=0;
for(int i=0;i<n;i++){
int freq[101]={0};
int distinct=0;
for(int j=i;j<n;j++){
if(freq[nums[j]]==0)distinct++;
freq[nums[j]]++;
sum+=distinct*distinct;
}}
printf("%d",sum);
return 0;
}

output:
15
